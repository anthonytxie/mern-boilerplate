{"version":3,"sources":["../../../server/db/models/User.js"],"names":["userSchema","googleId","String","statics","createOAuthUser","strategy","identifier","findOne","googleUser","User","save","facebookId","facebookUser","model"],"mappings":";;;;;;AAAA;;;;;;;;AAEA,IAAMA,aAAa,qBAAW;AAC5BC,YAAUC;AADkB,CAAX,CAAnB;;AAIAF,WAAWG,OAAX,CAAmBC,eAAnB;AAAA,qEAAqC,iBAAeC,QAAf,EAAyBC,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAC3BD,QAD2B;AAAA,4CAE5B,QAF4B,uBAS5B,UAT4B;AAAA;;AAAA;AAAA;AAAA,mBAGN,KAAKE,OAAL,CAAa,EAAEN,UAAUK,UAAZ,EAAb,CAHM;;AAAA;AAGzBE,sBAHyB;;AAAA,gBAI1BA,UAJ0B;AAAA;AAAA;AAAA;;AAAA,6CAKtB,IAAIC,IAAJ,CAAS,EAAER,UAAUK,UAAZ,EAAT,EAAmCI,IAAnC,EALsB;;AAAA;AAAA,6CAOtBF,UAPsB;;AAAA;AAAA;AAAA,mBAUJ,KAAKD,OAAL,CAAa,EAAEI,YAAYL,UAAd,EAAb,CAVI;;AAAA;AAUzBM,wBAVyB;;AAAA,gBAW1BA,YAX0B;AAAA;AAAA;AAAA;;AAAA,6CAYtB,IAAIH,IAAJ,CAAS,EAAEE,YAAYL,UAAd,EAAT,EAAqCI,IAArC,EAZsB;;AAAA;AAAA,6CActBE,YAdsB;;AAAA;AAAA,6CAiBxB,EAjBwB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArC;;AAAA;AAAA;AAAA;AAAA;;AAqBA,IAAMH,OAAO,mBAASI,KAAT,CAAe,OAAf,EAAwBb,UAAxB,CAAb;;kBAEeS,I","file":"User.js","sourcesContent":["import mongoose, { Schema } from 'mongoose';\n\nconst userSchema = new Schema({\n  googleId: String,\n});\n\nuserSchema.statics.createOAuthUser = async function(strategy, identifier) {\n  switch (strategy) {\n    case 'google':\n      const googleUser = await this.findOne({ googleId: identifier });\n      if (!googleUser) {\n        return new User({ googleId: identifier }).save();\n      } else {\n        return googleUser;\n      }\n    case 'facebook':\n      const facebookUser = await this.findOne({ facebookId: identifier });\n      if (!facebookUser) {\n        return new User({ facebookId: identifier }).save();\n      } else {\n        return facebookUser;\n      }\n    default:\n      return '';\n  }\n};\n\nconst User = mongoose.model('Users', userSchema);\n\nexport default User;\n"]}